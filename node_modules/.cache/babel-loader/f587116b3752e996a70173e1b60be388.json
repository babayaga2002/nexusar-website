{"ast":null,"code":"import _slicedToArray from\"/Users/sidharthchoudhary/nexusar-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import AdminEntry from'./AdminEntry';import{Fragment,useEffect,useState}from'react';import{useHistory}from'react-router-dom';import{useAuthState}from'react-firebase-hooks/auth';import{auth}from'../../services/firebase';import Loading from'../../pages/Loading';import{getAllEmployeesList}from'../../services/firestore-queries';import{Grid}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";var AdminPage=function AdminPage(){var history=useHistory();var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,3),user=_useAuthState2[0],loading=_useAuthState2[1],error=_useAuthState2[2];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allEmployees=_useState2[0],setAllEmployees=_useState2[1];useEffect(function(){if(error)alert(error);if(loading)return/*#__PURE__*/_jsx(Loading,{});if(!user)history.replace('/login');if(user)getAllEmployeesList(setAllEmployees);},[user,loading,error,history]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:allEmployees.length!==0&&allEmployees.map(function(employeeData){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(AdminEntry,{employeeData:employeeData})},Math.random());})})});};export default AdminPage;","map":{"version":3,"sources":["/Users/sidharthchoudhary/nexusar-website/src/components/Admin/AdminPage.js"],"names":["AdminEntry","Fragment","useEffect","useState","useHistory","useAuthState","auth","Loading","getAllEmployeesList","Grid","AdminPage","history","user","loading","error","allEmployees","setAllEmployees","alert","replace","length","map","employeeData","Math","random"],"mappings":"+JAAA,MAAOA,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,QAAT,CAAmBC,SAAnB,CAA8BC,QAA9B,KAA8C,OAA9C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,YAAT,KAA6B,2BAA7B,CACA,OAASC,IAAT,KAAqB,yBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,OAASC,mBAAT,KAAoC,kCAApC,CACA,OAASC,IAAT,KAAqB,eAArB,C,2CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,kBAA+BC,YAAY,CAACC,IAAD,CAA3C,gDAAOM,IAAP,mBAAaC,OAAb,mBAAsBC,KAAtB,mBACA,cAAwCX,QAAQ,CAAC,EAAD,CAAhD,wCAAOY,YAAP,eAAqBC,eAArB,eAEAd,SAAS,CAAC,UAAM,CACd,GAAIY,KAAJ,CAAWG,KAAK,CAACH,KAAD,CAAL,CACX,GAAID,OAAJ,CAAa,mBAAO,KAAC,OAAD,IAAP,CACb,GAAI,CAACD,IAAL,CAAWD,OAAO,CAACO,OAAR,CAAgB,QAAhB,EACX,GAAIN,IAAJ,CAAUJ,mBAAmB,CAACQ,eAAD,CAAnB,CACX,CALQ,CAKN,CAACJ,IAAD,CAAOC,OAAP,CAAgBC,KAAhB,CAAuBH,OAAvB,CALM,CAAT,CAOA,mBACE,KAAC,QAAD,wBACE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,UACGI,YAAY,CAACI,MAAb,GAAwB,CAAxB,EACCJ,YAAY,CAACK,GAAb,CAAiB,SAACC,YAAD,qBACf,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,uBACE,KAAC,UAAD,EAAY,YAAY,CAAEA,YAA1B,EADF,EAAwBC,IAAI,CAACC,MAAL,EAAxB,CADe,EAAjB,CAFJ,EADF,EADF,CAYD,CAxBD,CA0BA,cAAeb,CAAAA,SAAf","sourcesContent":["import AdminEntry from './AdminEntry';\nimport { Fragment, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth } from '../../services/firebase';\nimport Loading from '../../pages/Loading';\nimport { getAllEmployeesList } from '../../services/firestore-queries';\nimport { Grid } from '@mui/material';\n\nconst AdminPage = () => {\n  const history = useHistory();\n  const [user, loading, error] = useAuthState(auth);\n  const [allEmployees, setAllEmployees] = useState([]);\n\n  useEffect(() => {\n    if (error) alert(error);\n    if (loading) return <Loading />;\n    if (!user) history.replace('/login');\n    if (user) getAllEmployeesList(setAllEmployees);\n  }, [user, loading, error, history]);\n\n  return (\n    <Fragment>\n      <Grid container spacing={4}>\n        {allEmployees.length !== 0 &&\n          allEmployees.map((employeeData) => (\n            <Grid item xs={12} key={Math.random()}>\n              <AdminEntry employeeData={employeeData} />\n            </Grid>\n          ))}\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default AdminPage;\n"]},"metadata":{},"sourceType":"module"}