{"ast":null,"code":"import _slicedToArray from\"/Users/sidharthchoudhary/nexusar-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Container,Grid,Divider}from'@mui/material';import{Box}from'@mui/system';import{programmingLanguages}from'../../data/programming-languages.js';import{useHistory}from'react-router';import{useAuthState}from'react-firebase-hooks/auth';import{useState,useEffect}from'react';import{auth}from'../../services/firebase';import Loading from'../../pages/Loading';import useStars from'../../hooks/use-stars.js';import StarRatingField from'../ui/star-rating/StarRatingField.js';import Creatable from'react-select/creatable';import SuccessSnackbar from'./SuccessSnackbar';import{getEmployeeSkillInfo,postEmployeeSkillInfo}from'../../services/firestore-queries.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SkillsInfo=function SkillsInfo(){var _skillData$arcGISRati,_skillData$enviRating,_skillData$snapRating,_skillData$progLang1R,_skillData$progLang1R2,_skillData$progLang2R,_skillData$progLang2R2,_skillData$progLang3R,_skillData$progLang3R2,_skillData$progLang4R,_skillData$progLang4R2,_skillData$progLang5R,_skillData$progLang5R2;var history=useHistory();var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,3),user=_useAuthState2[0],loading=_useAuthState2[1],error=_useAuthState2[2];var _useState=useState({}),_useState2=_slicedToArray(_useState,2),skillData=_useState2[0],setSkillData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];useEffect(function(){if(error)alert(error);if(loading)return/*#__PURE__*/_jsx(Loading,{});if(!user)history.replace('/login');if(user)getEmployeeSkillInfo(user.uid,setSkillData);},[user,loading,error,history]);var _useStars=useStars('Arc-GIS experience level',(_skillData$arcGISRati=skillData.arcGISRating)===null||_skillData$arcGISRati===void 0?void 0:_skillData$arcGISRati.value),arcGISRating=_useStars.rating,arcGISRatingChangeHandler=_useStars.ratingChangeHandler;var _useStars2=useStars('ENVI experience level',(_skillData$enviRating=skillData.enviRating)===null||_skillData$enviRating===void 0?void 0:_skillData$enviRating.value),enviRating=_useStars2.rating,enviRatingChangeHandler=_useStars2.ratingChangeHandler;var _useStars3=useStars('SNAP experience level',(_skillData$snapRating=skillData.snapRating)===null||_skillData$snapRating===void 0?void 0:_skillData$snapRating.value),snapRating=_useStars3.rating,snapRatingChangeHandler=_useStars3.ratingChangeHandler;var _useStars4=useStars((_skillData$progLang1R=skillData.progLang1Rating)===null||_skillData$progLang1R===void 0?void 0:_skillData$progLang1R.label,(_skillData$progLang1R2=skillData.progLang1Rating)===null||_skillData$progLang1R2===void 0?void 0:_skillData$progLang1R2.value),progLang1Rating=_useStars4.rating,progLang1RatingChangeHandler=_useStars4.ratingChangeHandler,progLang1LabelChangeHandler=_useStars4.labelChangeHandler,progLang1LabelHasError=_useStars4.labelHasError;var _useStars5=useStars((_skillData$progLang2R=skillData.progLang2Rating)===null||_skillData$progLang2R===void 0?void 0:_skillData$progLang2R.label,(_skillData$progLang2R2=skillData.progLang2Rating)===null||_skillData$progLang2R2===void 0?void 0:_skillData$progLang2R2.value),progLang2Rating=_useStars5.rating,progLang2RatingChangeHandler=_useStars5.ratingChangeHandler,progLang2LabelChangeHandler=_useStars5.labelChangeHandler,progLang2LabelHasError=_useStars5.labelHasError;var _useStars6=useStars((_skillData$progLang3R=skillData.progLang3Rating)===null||_skillData$progLang3R===void 0?void 0:_skillData$progLang3R.label,(_skillData$progLang3R2=skillData.progLang3Rating)===null||_skillData$progLang3R2===void 0?void 0:_skillData$progLang3R2.value),progLang3Rating=_useStars6.rating,progLang3RatingChangeHandler=_useStars6.ratingChangeHandler,progLang3LabelChangeHandler=_useStars6.labelChangeHandler,progLang3LabelHasError=_useStars6.labelHasError;var _useStars7=useStars((_skillData$progLang4R=skillData.progLang4Rating)===null||_skillData$progLang4R===void 0?void 0:_skillData$progLang4R.label,(_skillData$progLang4R2=skillData.progLang4Rating)===null||_skillData$progLang4R2===void 0?void 0:_skillData$progLang4R2.value),progLang4Rating=_useStars7.rating,progLang4RatingChangeHandler=_useStars7.ratingChangeHandler,progLang4LabelChangeHandler=_useStars7.labelChangeHandler,progLang4LabelHasError=_useStars7.labelHasError;var _useStars8=useStars((_skillData$progLang5R=skillData.progLang5Rating)===null||_skillData$progLang5R===void 0?void 0:_skillData$progLang5R.label,(_skillData$progLang5R2=skillData.progLang5Rating)===null||_skillData$progLang5R2===void 0?void 0:_skillData$progLang5R2.value),progLang5Rating=_useStars8.rating,progLang5RatingChangeHandler=_useStars8.ratingChangeHandler,progLang5LabelChangeHandler=_useStars8.labelChangeHandler,progLang5LabelHasError=_useStars8.labelHasError;var formIsValid=!progLang1LabelHasError&&!progLang2LabelHasError&&!progLang3LabelHasError&&!progLang4LabelHasError&&!progLang5LabelHasError;var formSubmitHandler=function formSubmitHandler(event){event.preventDefault();if(!formIsValid)return;var formData={arcGISRating:arcGISRating,enviRating:enviRating,snapRating:snapRating,progLang1Rating:progLang1Rating,progLang2Rating:progLang2Rating,progLang3Rating:progLang3Rating,progLang4Rating:progLang4Rating,progLang5Rating:progLang5Rating};postEmployeeSkillInfo(user.uid,formData);setOpen(true);};return/*#__PURE__*/_jsxs(Container,{sx:{py:4},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your skills information.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This section has all the information related to your skills. You can update them as and when necessary.\"}),/*#__PURE__*/_jsx(Box,{sx:{pb:4}}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formSubmitHandler,children:[/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(\"p\",{children:\"Arc-GIS experience level\"})}),/*#__PURE__*/_jsx(StarRatingField,{rating:arcGISRating.value,ratingChangeHandler:arcGISRatingChangeHandler})]}),/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(\"p\",{children:\"ENVI experience level\"})}),/*#__PURE__*/_jsx(StarRatingField,{rating:enviRating.value,ratingChangeHandler:enviRatingChangeHandler})]}),/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(\"p\",{children:\"SNAP experience level\"})}),/*#__PURE__*/_jsx(StarRatingField,{rating:snapRating.value,ratingChangeHandler:snapRatingChangeHandler})]}),/*#__PURE__*/_jsx(\"h4\",{style:{padding:'16px 0 8px 0'},children:\"Select 5 programming skills\"}),/*#__PURE__*/_jsx(Divider,{light:true,sx:{mb:2}}),/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(Creatable,{value:progLang1Rating,options:programmingLanguages,placeholder:\"Select language\",onChange:function onChange(opt,meta){return progLang1LabelChangeHandler(opt.label);}})}),!progLang1LabelHasError&&/*#__PURE__*/_jsx(StarRatingField,{rating:progLang1Rating.value,ratingChangeHandler:progLang1RatingChangeHandler})]}),/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(Creatable,{value:progLang2Rating,options:programmingLanguages,placeholder:\"Select language\",onChange:function onChange(opt,meta){return progLang2LabelChangeHandler(opt.label);}})}),!progLang2LabelHasError&&/*#__PURE__*/_jsx(StarRatingField,{rating:progLang2Rating.value,ratingChangeHandler:progLang2RatingChangeHandler})]}),/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(Creatable,{value:progLang3Rating,options:programmingLanguages,placeholder:\"Select language\",onChange:function onChange(opt,meta){return progLang3LabelChangeHandler(opt.label);}})}),!progLang3LabelHasError&&/*#__PURE__*/_jsx(StarRatingField,{rating:progLang3Rating.value,ratingChangeHandler:progLang3RatingChangeHandler})]}),/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(Creatable,{value:progLang4Rating,options:programmingLanguages,placeholder:\"Select language\",onChange:function onChange(opt,meta){return progLang4LabelChangeHandler(opt.label);}})}),!progLang4LabelHasError&&/*#__PURE__*/_jsx(StarRatingField,{rating:progLang4Rating.value,ratingChangeHandler:progLang4RatingChangeHandler})]}),/*#__PURE__*/_jsxs(Grid,{container:true,sx:{py:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(Creatable,{value:progLang5Rating,options:programmingLanguages,placeholder:\"Select language\",onChange:function onChange(opt,meta){return progLang5LabelChangeHandler(opt.label);}})}),!progLang5LabelHasError&&/*#__PURE__*/_jsx(StarRatingField,{rating:progLang5Rating.value,ratingChangeHandler:progLang5RatingChangeHandler})]}),/*#__PURE__*/_jsx(Grid,{container:true,sx:{py:4},children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",type:\"submit\",disabled:!formIsValid,children:\"Update Skill Information\"})})})]}),/*#__PURE__*/_jsx(SuccessSnackbar,{open:open,setOpen:setOpen})]});};export default SkillsInfo;","map":{"version":3,"sources":["/Users/sidharthchoudhary/nexusar-website/src/components/Dashboard/SkillsInfo.js"],"names":["Container","Grid","Divider","Box","programmingLanguages","useHistory","useAuthState","useState","useEffect","auth","Loading","useStars","StarRatingField","Creatable","SuccessSnackbar","getEmployeeSkillInfo","postEmployeeSkillInfo","SkillsInfo","history","user","loading","error","skillData","setSkillData","open","setOpen","alert","replace","uid","arcGISRating","value","rating","arcGISRatingChangeHandler","ratingChangeHandler","enviRating","enviRatingChangeHandler","snapRating","snapRatingChangeHandler","progLang1Rating","label","progLang1RatingChangeHandler","progLang1LabelChangeHandler","labelChangeHandler","progLang1LabelHasError","labelHasError","progLang2Rating","progLang2RatingChangeHandler","progLang2LabelChangeHandler","progLang2LabelHasError","progLang3Rating","progLang3RatingChangeHandler","progLang3LabelChangeHandler","progLang3LabelHasError","progLang4Rating","progLang4RatingChangeHandler","progLang4LabelChangeHandler","progLang4LabelHasError","progLang5Rating","progLang5RatingChangeHandler","progLang5LabelChangeHandler","progLang5LabelHasError","formIsValid","formSubmitHandler","event","preventDefault","formData","py","pb","padding","mb","opt","meta"],"mappings":"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","sourcesContent":["import { Container, Grid, Divider } from '@mui/material';\nimport { Box } from '@mui/system';\nimport { programmingLanguages } from '../../data/programming-languages.js';\nimport { useHistory } from 'react-router';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useState, useEffect } from 'react';\nimport { auth } from '../../services/firebase';\nimport Loading from '../../pages/Loading';\n\nimport useStars from '../../hooks/use-stars.js';\nimport StarRatingField from '../ui/star-rating/StarRatingField.js';\nimport Creatable from 'react-select/creatable';\nimport SuccessSnackbar from './SuccessSnackbar';\nimport { getEmployeeSkillInfo, postEmployeeSkillInfo } from '../../services/firestore-queries.js';\n\nconst SkillsInfo = () => {\n  const history = useHistory();\n  const [user, loading, error] = useAuthState(auth);\n  const [skillData, setSkillData] = useState({});\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (error) alert(error);\n    if (loading) return <Loading />;\n    if (!user) history.replace('/login');\n    if (user) getEmployeeSkillInfo(user.uid, setSkillData);\n  }, [user, loading, error, history]);\n\n  const { rating: arcGISRating, ratingChangeHandler: arcGISRatingChangeHandler } = useStars(\n    'Arc-GIS experience level',\n    skillData.arcGISRating?.value\n  );\n  const { rating: enviRating, ratingChangeHandler: enviRatingChangeHandler } = useStars(\n    'ENVI experience level',\n    skillData.enviRating?.value\n  );\n  const { rating: snapRating, ratingChangeHandler: snapRatingChangeHandler } = useStars(\n    'SNAP experience level',\n    skillData.snapRating?.value\n  );\n\n  const {\n    rating: progLang1Rating,\n    ratingChangeHandler: progLang1RatingChangeHandler,\n    labelChangeHandler: progLang1LabelChangeHandler,\n    labelHasError: progLang1LabelHasError,\n  } = useStars(skillData.progLang1Rating?.label, skillData.progLang1Rating?.value);\n  const {\n    rating: progLang2Rating,\n    ratingChangeHandler: progLang2RatingChangeHandler,\n    labelChangeHandler: progLang2LabelChangeHandler,\n    labelHasError: progLang2LabelHasError,\n  } = useStars(skillData.progLang2Rating?.label, skillData.progLang2Rating?.value);\n  const {\n    rating: progLang3Rating,\n    ratingChangeHandler: progLang3RatingChangeHandler,\n    labelChangeHandler: progLang3LabelChangeHandler,\n    labelHasError: progLang3LabelHasError,\n  } = useStars(skillData.progLang3Rating?.label, skillData.progLang3Rating?.value);\n  const {\n    rating: progLang4Rating,\n    ratingChangeHandler: progLang4RatingChangeHandler,\n    labelChangeHandler: progLang4LabelChangeHandler,\n    labelHasError: progLang4LabelHasError,\n  } = useStars(skillData.progLang4Rating?.label, skillData.progLang4Rating?.value);\n  const {\n    rating: progLang5Rating,\n    ratingChangeHandler: progLang5RatingChangeHandler,\n    labelChangeHandler: progLang5LabelChangeHandler,\n    labelHasError: progLang5LabelHasError,\n  } = useStars(skillData.progLang5Rating?.label, skillData.progLang5Rating?.value);\n\n  const formIsValid =\n    !progLang1LabelHasError &&\n    !progLang2LabelHasError &&\n    !progLang3LabelHasError &&\n    !progLang4LabelHasError &&\n    !progLang5LabelHasError;\n\n  const formSubmitHandler = (event) => {\n    event.preventDefault();\n    if (!formIsValid) return;\n\n    const formData = {\n      arcGISRating: arcGISRating,\n      enviRating: enviRating,\n      snapRating: snapRating,\n      progLang1Rating: progLang1Rating,\n      progLang2Rating: progLang2Rating,\n      progLang3Rating: progLang3Rating,\n      progLang4Rating: progLang4Rating,\n      progLang5Rating: progLang5Rating,\n    };\n    postEmployeeSkillInfo(user.uid, formData);\n    setOpen(true);\n  };\n\n  return (\n    <Container sx={{ py: 4 }}>\n      <h2>Your skills information.</h2>\n      <p>This section has all the information related to your skills. You can update them as and when necessary.</p>\n      <Box sx={{ pb: 4 }} />\n\n      <form onSubmit={formSubmitHandler}>\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <p>Arc-GIS experience level</p>\n          </Grid>\n          <StarRatingField rating={arcGISRating.value} ratingChangeHandler={arcGISRatingChangeHandler} />\n        </Grid>\n\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <p>ENVI experience level</p>\n          </Grid>\n          <StarRatingField rating={enviRating.value} ratingChangeHandler={enviRatingChangeHandler} />\n        </Grid>\n\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <p>SNAP experience level</p>\n          </Grid>\n          <StarRatingField rating={snapRating.value} ratingChangeHandler={snapRatingChangeHandler} />\n        </Grid>\n\n        <h4 style={{ padding: '16px 0 8px 0' }}>Select 5 programming skills</h4>\n        <Divider light sx={{ mb: 2 }} />\n\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <Creatable\n              value={progLang1Rating}\n              options={programmingLanguages}\n              placeholder=\"Select language\"\n              onChange={(opt, meta) => progLang1LabelChangeHandler(opt.label)}\n            />\n          </Grid>\n          {!progLang1LabelHasError && (\n            <StarRatingField rating={progLang1Rating.value} ratingChangeHandler={progLang1RatingChangeHandler} />\n          )}\n        </Grid>\n\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <Creatable\n              value={progLang2Rating}\n              options={programmingLanguages}\n              placeholder=\"Select language\"\n              onChange={(opt, meta) => progLang2LabelChangeHandler(opt.label)}\n            />\n          </Grid>\n          {!progLang2LabelHasError && (\n            <StarRatingField rating={progLang2Rating.value} ratingChangeHandler={progLang2RatingChangeHandler} />\n          )}\n        </Grid>\n\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <Creatable\n              value={progLang3Rating}\n              options={programmingLanguages}\n              placeholder=\"Select language\"\n              onChange={(opt, meta) => progLang3LabelChangeHandler(opt.label)}\n            />\n          </Grid>\n          {!progLang3LabelHasError && (\n            <StarRatingField rating={progLang3Rating.value} ratingChangeHandler={progLang3RatingChangeHandler} />\n          )}\n        </Grid>\n\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <Creatable\n              value={progLang4Rating}\n              options={programmingLanguages}\n              placeholder=\"Select language\"\n              onChange={(opt, meta) => progLang4LabelChangeHandler(opt.label)}\n            />\n          </Grid>\n          {!progLang4LabelHasError && (\n            <StarRatingField rating={progLang4Rating.value} ratingChangeHandler={progLang4RatingChangeHandler} />\n          )}\n        </Grid>\n\n        <Grid container sx={{ py: 1 }}>\n          <Grid item xs={5}>\n            <Creatable\n              value={progLang5Rating}\n              options={programmingLanguages}\n              placeholder=\"Select language\"\n              onChange={(opt, meta) => progLang5LabelChangeHandler(opt.label)}\n            />\n          </Grid>\n          {!progLang5LabelHasError && (\n            <StarRatingField rating={progLang5Rating.value} ratingChangeHandler={progLang5RatingChangeHandler} />\n          )}\n        </Grid>\n        <Grid container sx={{ py: 4 }}>\n          <Grid item xs={12} sm={4}>\n            <button className=\"form-button\" type=\"submit\" disabled={!formIsValid}>\n              Update Skill Information\n            </button>\n          </Grid>\n        </Grid>\n      </form>\n      <SuccessSnackbar open={open} setOpen={setOpen} />\n    </Container>\n  );\n};\n\nexport default SkillsInfo;\n"]},"metadata":{},"sourceType":"module"}