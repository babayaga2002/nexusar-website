{"ast":null,"code":"import _slicedToArray from\"/Users/sidharthchoudhary/nexusar-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Container,Grid}from'@mui/material';import{Box}from'@mui/system';import useInput from'../../hooks/use-input';import{useHistory}from'react-router';import{useAuthState}from'react-firebase-hooks/auth';import{useState,useEffect}from'react';import{auth}from'../../services/firebase';import InputField from'../ui/input-field/InputField';import{getEmployeeBankInfo,postEmployeeBankInfo}from'../../services/firestore-queries';import SuccessSnackbar from'./SuccessSnackbar';import Loading from'../../pages/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isNotEmpty=function isNotEmpty(value){return value.trim()!=='';};var BankInfo=function BankInfo(){var history=useHistory();var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,3),user=_useAuthState2[0],loading=_useAuthState2[1],error=_useAuthState2[2];var _useState=useState({}),_useState2=_slicedToArray(_useState,2),bankData=_useState2[0],setBankData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];useEffect(function(){if(error)alert(error);if(loading)return/*#__PURE__*/_jsx(Loading,{});if(!user)history.replace('/login');if(user)getEmployeeBankInfo(user.uid,setBankData);},[user,loading,error,history]);var _useInput=useInput(isNotEmpty,bankData.accountNumberValue),accountNumberValue=_useInput.value,accountNumberIsValid=_useInput.isValid,accountNumberHasError=_useInput.hasError,accountNumberChangeHandler=_useInput.valueChangeHandler,accountNumberBlurHandler=_useInput.inputBlurHandler,resetAccountNumber=_useInput.reset;var _useInput2=useInput(isNotEmpty,bankData.IFSCCodeValue),IFSCCodeValue=_useInput2.value,IFSCCodeIsValid=_useInput2.isValid,IFSCCodeHasError=_useInput2.hasError,IFSCCodeChangeHandler=_useInput2.valueChangeHandler,IFSCCodeBlurHandler=_useInput2.inputBlurHandler,resetIFSCCode=_useInput2.reset;var _useInput3=useInput(isNotEmpty,bankData.bankNameValue),bankNameValue=_useInput3.value,bankNameIsValid=_useInput3.isValid,bankNameHasError=_useInput3.hasError,bankNameChangeHandler=_useInput3.valueChangeHandler,bankNameBlurHandler=_useInput3.inputBlurHandler,resetBankName=_useInput3.reset;var formIsValid=accountNumberIsValid&&IFSCCodeIsValid&&bankNameIsValid;var formSubmitHandler=function formSubmitHandler(event){event.preventDefault();if(!formIsValid)return;var formData={accountNumberValue:accountNumberValue,bankNameValue:bankNameValue,IFSCCodeValue:IFSCCodeValue};postEmployeeBankInfo(user.uid,formData);setOpen(true);resetAccountNumber();resetBankName();resetIFSCCode();};return/*#__PURE__*/_jsxs(Container,{sx:{py:4},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your bank information.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This section has all your bank account details. Please make sure to fill them correctly.\"}),/*#__PURE__*/_jsx(Box,{sx:{pb:4}}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formSubmitHandler,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:\"12\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InputField,{label:\"Bank Account Number\",type:\"text\",valueChangeHandler:accountNumberChangeHandler,inputBlurHandler:accountNumberBlurHandler,hasError:accountNumberHasError,value:accountNumberValue,placeholder:\"12345678912\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InputField,{label:\"IFSC Code\",type:\"text\",valueChangeHandler:IFSCCodeChangeHandler,inputBlurHandler:IFSCCodeBlurHandler,hasError:IFSCCodeHasError,value:IFSCCodeValue,placeholder:\"SBIN14262\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:\"12\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InputField,{label:\"Bank Name\",type:\"text\",valueChangeHandler:bankNameChangeHandler,inputBlurHandler:bankNameBlurHandler,hasError:bankNameHasError,value:bankNameValue,placeholder:\"State Bank of India\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6})]}),/*#__PURE__*/_jsx(Grid,{container:true,sx:{py:4},children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",type:\"submit\",disabled:!formIsValid,children:\"Update Bank Details\"})})})]}),/*#__PURE__*/_jsx(SuccessSnackbar,{open:open,setOpen:setOpen})]});};export default BankInfo;","map":{"version":3,"sources":["/Users/sidharthchoudhary/nexusar-website/src/components/Dashboard/BankInfo.js"],"names":["Container","Grid","Box","useInput","useHistory","useAuthState","useState","useEffect","auth","InputField","getEmployeeBankInfo","postEmployeeBankInfo","SuccessSnackbar","Loading","isNotEmpty","value","trim","BankInfo","history","user","loading","error","bankData","setBankData","open","setOpen","alert","replace","uid","accountNumberValue","accountNumberIsValid","isValid","accountNumberHasError","hasError","accountNumberChangeHandler","valueChangeHandler","accountNumberBlurHandler","inputBlurHandler","resetAccountNumber","reset","IFSCCodeValue","IFSCCodeIsValid","IFSCCodeHasError","IFSCCodeChangeHandler","IFSCCodeBlurHandler","resetIFSCCode","bankNameValue","bankNameIsValid","bankNameHasError","bankNameChangeHandler","bankNameBlurHandler","resetBankName","formIsValid","formSubmitHandler","event","preventDefault","formData","py","pb"],"mappings":"+JAAA,OAASA,SAAT,CAAoBC,IAApB,KAAgC,eAAhC,CACA,OAASC,GAAT,KAAoB,aAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,YAAT,KAA6B,2BAA7B,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,yBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,mBAAT,CAA8BC,oBAA9B,KAA0D,kCAA1D,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,KAAiB,EAA5B,EAAnB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CACA,kBAA+BC,YAAY,CAACG,IAAD,CAA3C,gDAAOW,IAAP,mBAAaC,OAAb,mBAAsBC,KAAtB,mBACA,cAAgCf,QAAQ,CAAC,EAAD,CAAxC,wCAAOgB,QAAP,eAAiBC,WAAjB,eACA,eAAwBjB,QAAQ,CAAC,KAAD,CAAhC,yCAAOkB,IAAP,eAAaC,OAAb,eAEAlB,SAAS,CAAC,UAAM,CACd,GAAIc,KAAJ,CAAWK,KAAK,CAACL,KAAD,CAAL,CACX,GAAID,OAAJ,CAAa,mBAAO,KAAC,OAAD,IAAP,CACb,GAAI,CAACD,IAAL,CAAWD,OAAO,CAACS,OAAR,CAAgB,QAAhB,EACX,GAAIR,IAAJ,CAAUT,mBAAmB,CAACS,IAAI,CAACS,GAAN,CAAWL,WAAX,CAAnB,CACX,CALQ,CAKN,CAACJ,IAAD,CAAOC,OAAP,CAAgBC,KAAhB,CAAuBH,OAAvB,CALM,CAAT,CAOA,cAOIf,QAAQ,CAACW,UAAD,CAAaQ,QAAQ,CAACO,kBAAtB,CAPZ,CACSA,kBADT,WACEd,KADF,CAEWe,oBAFX,WAEEC,OAFF,CAGYC,qBAHZ,WAGEC,QAHF,CAIsBC,0BAJtB,WAIEC,kBAJF,CAKoBC,wBALpB,WAKEC,gBALF,CAMSC,kBANT,WAMEC,KANF,CASA,eAOIpC,QAAQ,CAACW,UAAD,CAAaQ,QAAQ,CAACkB,aAAtB,CAPZ,CACSA,aADT,YACEzB,KADF,CAEW0B,eAFX,YAEEV,OAFF,CAGYW,gBAHZ,YAGET,QAHF,CAIsBU,qBAJtB,YAIER,kBAJF,CAKoBS,mBALpB,YAKEP,gBALF,CAMSQ,aANT,YAMEN,KANF,CASA,eAOIpC,QAAQ,CAACW,UAAD,CAAaQ,QAAQ,CAACwB,aAAtB,CAPZ,CACSA,aADT,YACE/B,KADF,CAEWgC,eAFX,YAEEhB,OAFF,CAGYiB,gBAHZ,YAGEf,QAHF,CAIsBgB,qBAJtB,YAIEd,kBAJF,CAKoBe,mBALpB,YAKEb,gBALF,CAMSc,aANT,YAMEZ,KANF,CASA,GAAMa,CAAAA,WAAW,CAAGtB,oBAAoB,EAAIW,eAAxB,EAA2CM,eAA/D,CAEA,GAAMM,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAW,CACnCA,KAAK,CAACC,cAAN,GACA,GAAI,CAACH,WAAL,CAAkB,OAElB,GAAMI,CAAAA,QAAQ,CAAG,CACf3B,kBAAkB,CAAlBA,kBADe,CAEfiB,aAAa,CAAbA,aAFe,CAGfN,aAAa,CAAbA,aAHe,CAAjB,CAMA7B,oBAAoB,CAACQ,IAAI,CAACS,GAAN,CAAW4B,QAAX,CAApB,CACA/B,OAAO,CAAC,IAAD,CAAP,CAEAa,kBAAkB,GAClBa,aAAa,GACbN,aAAa,GACd,CAhBD,CAkBA,mBACE,MAAC,SAAD,EAAW,EAAE,CAAE,CAAEY,EAAE,CAAE,CAAN,CAAf,wBACE,8CADF,cAEE,+GAFF,cAGE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAN,CAAT,EAHF,cAKE,cAAM,QAAQ,CAAEL,iBAAhB,wBACE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAC,IAAxB,wBACE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,uBACE,KAAC,UAAD,EACE,KAAK,CAAC,qBADR,CAEE,IAAI,CAAC,MAFP,CAGE,kBAAkB,CAAEnB,0BAHtB,CAIE,gBAAgB,CAAEE,wBAJpB,CAKE,QAAQ,CAAEJ,qBALZ,CAME,KAAK,CAAEH,kBANT,CAOE,WAAW,CAAC,aAPd,EADF,EADF,cAaE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,uBACE,KAAC,UAAD,EACE,KAAK,CAAC,WADR,CAEE,IAAI,CAAC,MAFP,CAGE,kBAAkB,CAAEc,qBAHtB,CAIE,gBAAgB,CAAEC,mBAJpB,CAKE,QAAQ,CAAEF,gBALZ,CAME,KAAK,CAAEF,aANT,CAOE,WAAW,CAAC,WAPd,EADF,EAbF,GADF,cA2BE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAC,IAAxB,wBACE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,uBACE,KAAC,UAAD,EACE,KAAK,CAAC,WADR,CAEE,IAAI,CAAC,MAFP,CAGE,kBAAkB,CAAES,qBAHtB,CAIE,gBAAgB,CAAEC,mBAJpB,CAKE,QAAQ,CAAEF,gBALZ,CAME,KAAK,CAAEF,aANT,CAOE,WAAW,CAAC,qBAPd,EADF,EADF,cAYE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,EAZF,GA3BF,cA0CE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,EAAE,CAAE,CAAEW,EAAE,CAAE,CAAN,CAApB,uBACE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,uBACE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,IAAI,CAAC,QAArC,CAA8C,QAAQ,CAAE,CAACL,WAAzD,iCADF,EADF,EA1CF,GALF,cAuDE,KAAC,eAAD,EAAiB,IAAI,CAAE5B,IAAvB,CAA6B,OAAO,CAAEC,OAAtC,EAvDF,GADF,CA2DD,CAvHD,CAyHA,cAAeR,CAAAA,QAAf","sourcesContent":["import { Container, Grid } from '@mui/material';\nimport { Box } from '@mui/system';\nimport useInput from '../../hooks/use-input';\nimport { useHistory } from 'react-router';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useState, useEffect } from 'react';\nimport { auth } from '../../services/firebase';\nimport InputField from '../ui/input-field/InputField';\nimport { getEmployeeBankInfo, postEmployeeBankInfo } from '../../services/firestore-queries';\nimport SuccessSnackbar from './SuccessSnackbar';\nimport Loading from '../../pages/Loading';\n\nconst isNotEmpty = (value) => value.trim() !== '';\n\nconst BankInfo = () => {\n  const history = useHistory();\n  const [user, loading, error] = useAuthState(auth);\n  const [bankData, setBankData] = useState({});\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (error) alert(error);\n    if (loading) return <Loading />;\n    if (!user) history.replace('/login');\n    if (user) getEmployeeBankInfo(user.uid, setBankData);\n  }, [user, loading, error, history]);\n\n  const {\n    value: accountNumberValue,\n    isValid: accountNumberIsValid,\n    hasError: accountNumberHasError,\n    valueChangeHandler: accountNumberChangeHandler,\n    inputBlurHandler: accountNumberBlurHandler,\n    reset: resetAccountNumber,\n  } = useInput(isNotEmpty, bankData.accountNumberValue);\n\n  const {\n    value: IFSCCodeValue,\n    isValid: IFSCCodeIsValid,\n    hasError: IFSCCodeHasError,\n    valueChangeHandler: IFSCCodeChangeHandler,\n    inputBlurHandler: IFSCCodeBlurHandler,\n    reset: resetIFSCCode,\n  } = useInput(isNotEmpty, bankData.IFSCCodeValue);\n\n  const {\n    value: bankNameValue,\n    isValid: bankNameIsValid,\n    hasError: bankNameHasError,\n    valueChangeHandler: bankNameChangeHandler,\n    inputBlurHandler: bankNameBlurHandler,\n    reset: resetBankName,\n  } = useInput(isNotEmpty, bankData.bankNameValue);\n\n  const formIsValid = accountNumberIsValid && IFSCCodeIsValid && bankNameIsValid;\n\n  const formSubmitHandler = (event) => {\n    event.preventDefault();\n    if (!formIsValid) return;\n\n    const formData = {\n      accountNumberValue,\n      bankNameValue,\n      IFSCCodeValue,\n    };\n\n    postEmployeeBankInfo(user.uid, formData);\n    setOpen(true);\n\n    resetAccountNumber();\n    resetBankName();\n    resetIFSCCode();\n  };\n\n  return (\n    <Container sx={{ py: 4 }}>\n      <h2>Your bank information.</h2>\n      <p>This section has all your bank account details. Please make sure to fill them correctly.</p>\n      <Box sx={{ pb: 4 }} />\n\n      <form onSubmit={formSubmitHandler}>\n        <Grid container spacing=\"12\">\n          <Grid item xs={12} sm={6}>\n            <InputField\n              label=\"Bank Account Number\"\n              type=\"text\"\n              valueChangeHandler={accountNumberChangeHandler}\n              inputBlurHandler={accountNumberBlurHandler}\n              hasError={accountNumberHasError}\n              value={accountNumberValue}\n              placeholder=\"12345678912\"\n            />\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n            <InputField\n              label=\"IFSC Code\"\n              type=\"text\"\n              valueChangeHandler={IFSCCodeChangeHandler}\n              inputBlurHandler={IFSCCodeBlurHandler}\n              hasError={IFSCCodeHasError}\n              value={IFSCCodeValue}\n              placeholder=\"SBIN14262\"\n            />\n          </Grid>\n        </Grid>\n\n        <Grid container spacing=\"12\">\n          <Grid item xs={12} sm={6}>\n            <InputField\n              label=\"Bank Name\"\n              type=\"text\"\n              valueChangeHandler={bankNameChangeHandler}\n              inputBlurHandler={bankNameBlurHandler}\n              hasError={bankNameHasError}\n              value={bankNameValue}\n              placeholder=\"State Bank of India\"\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}></Grid>\n        </Grid>\n\n        <Grid container sx={{ py: 4 }}>\n          <Grid item xs={12} sm={4}>\n            <button className=\"form-button\" type=\"submit\" disabled={!formIsValid}>\n              Update Bank Details\n            </button>\n          </Grid>\n        </Grid>\n      </form>\n      <SuccessSnackbar open={open} setOpen={setOpen} />\n    </Container>\n  );\n};\n\nexport default BankInfo;\n"]},"metadata":{},"sourceType":"module"}